# Makefile pour le gÃ©nÃ©rateur de fichiers C GAM_DL
# Auteur: GAM_DL Team
# Date: Mai 2025

CC = gcc
CFLAGS = -Wall -Wextra -std=c99 -g
TARGET = gam_gen
SOURCE = gam_gen.c
OLD_TARGET = file_generator

# Couleurs pour les messages
GREEN = \033[0;32m
CYAN = \033[0;36m
YELLOW = \033[1;33m
RED = \033[0;31m
NC = \033[0m # No Color

.PHONY: all clean test help

all: $(TARGET)
	@echo "$(GREEN)âœ… Compilation terminÃ©e avec succÃ¨s!$(NC)"
	@echo "$(CYAN)ðŸ“‹ Usage: './$(TARGET) <auteur> <fichier.c>'$(NC)"
	@echo "$(YELLOW)ðŸ“‹ Exemple: './$(TARGET) \"John Doe\" \"init_game.c\"'$(NC)"

$(TARGET): $(SOURCE)
	@echo "$(YELLOW)ðŸ”¨ Compilation en cours...$(NC)"
	$(CC) $(CFLAGS) -o $(TARGET) $(SOURCE)

clean:
	@echo "$(YELLOW)ðŸ§¹ Nettoyage des fichiers compilÃ©s...$(NC)"
	rm -f $(TARGET) $(OLD_TARGET)
	@echo "$(GREEN)âœ… Nettoyage terminÃ©!$(NC)"

test: $(TARGET)
	@echo "$(CYAN)ðŸ§ª Test du gÃ©nÃ©rateur GAM_DL...$(NC)"
	./$(TARGET) "Test User" "test_function.c"

help:
	@echo "$(CYAN)ðŸ“– Aide - GÃ©nÃ©rateur GAM_DL$(NC)"
	@echo "$(YELLOW)Commandes disponibles:$(NC)"
	@echo "  make        - Compile le gÃ©nÃ©rateur"
	@echo "  make test   - Compile et teste le gÃ©nÃ©rateur"
	@echo "  make clean  - Supprime les fichiers compilÃ©s"
	@echo "  make help   - Affiche cette aide"
	@echo ""
	@echo "$(GREEN)Utilisation:$(NC)"
	@echo "  1. make"
	@echo "  2. ./gam_gen \"Votre Nom\" \"nom_fichier.c\""
	@echo ""
	@echo "$(CYAN)Le gÃ©nÃ©rateur crÃ©era un fichier C avec l'en-tÃªte GAM_DL!$(NC)"
